<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE sqlMap PUBLIC "-//ibatis.apache.org//DTD SQL Map 2.0//EN" "http://ibatis.apache.org/dtd/sql-map-2.dtd" >
<sqlMap namespace="storage" >
  <resultMap id="abatorgenerated_StorageResult" class="cn.krt.zbcg.commons.bo.system.StorageBO" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    <result column="id" property="id" jdbcType="INTEGER" />
    <result column="name" property="name" jdbcType="VARCHAR" />
    <result column="pinhao" property="pinhao" jdbcType="VARCHAR" />
    <result column="times" property="times" jdbcType="INTEGER" />
    <result column="pnumber" property="pnumber" jdbcType="VARCHAR" />
    <result column="checknumber" property="checknumber" jdbcType="VARCHAR" />
    <result column="supplyname" property="supplyname" jdbcType="VARCHAR" />
    <result column="locationcity" property="locationcity" jdbcType="VARCHAR" />
    <result column="detailchandi" property="detailchandi" jdbcType="VARCHAR" />
    <result column="guige" property="guige" jdbcType="VARCHAR" />
    <result column="jianshu" property="jianshu" jdbcType="INTEGER" />
    <result column="shuliang" property="shuliang" jdbcType="FLOAT" />
    <result column="fromdate" property="fromdate" jdbcType="VARCHAR" />
    <result column="demodate" property="demodate" jdbcType="VARCHAR" />
    <result column="fangxingdate" property="fangxingdate" jdbcType="VARCHAR" />
    <result column="checkresult" property="checkresult" jdbcType="VARCHAR" />
    <result column="sendDate" property="senddate" jdbcType="VARCHAR" />
    <result column="receivelocation" property="receivelocation" jdbcType="VARCHAR" />
    <result column="yuanliaodaodate" property="yuanliaodaodate" jdbcType="VARCHAR" />
    <result column="daodaozhongliang" property="daodaozhongliang" jdbcType="VARCHAR" />
    <result column="beizhu" property="beizhu" jdbcType="VARCHAR" />
    <result column="sendaddress" property="sendaddress" jdbcType="VARCHAR" />
    <result column="tuihuoriqi" property="tuihuoriqi" jdbcType="VARCHAR" />
    <result column="tuihuoshuliang" property="tuihuoshuliang" jdbcType="FLOAT" />
    <result column="pinzhongshuxing" property="pinzhongshuxing" jdbcType="FLOAT" />
    <result column="supplyid" property="supplyid" jdbcType="VARCHAR" />
    <result property="customerBO" column="supplyid" select="customer.selectById"/>
  </resultMap>
  
  <resultMap id="abatorgenerated_pinhaoResult" class="cn.krt.zbcg.commons.bo.system.StorageBO" >
    <result column="pnumber" property="pnumber" jdbcType="VARCHAR" />
  </resultMap>
  <sql id="abatorgenerated_Example_Where_Clause" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    <iterate property="oredCriteria" conjunction="or" prepend="where" removeFirstPrepend="iterate" >
      <isEqual property="oredCriteria[].valid" compareValue="true" >
        (
        <iterate prepend="and" property="oredCriteria[].criteriaWithoutValue" conjunction="and" >
          $oredCriteria[].criteriaWithoutValue[]$
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithSingleValue" conjunction="and" >
          $oredCriteria[].criteriaWithSingleValue[].condition$
            #oredCriteria[].criteriaWithSingleValue[].value#
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithListValue" conjunction="and" >
          $oredCriteria[].criteriaWithListValue[].condition$
          <iterate property="oredCriteria[].criteriaWithListValue[].values" open="(" close=")" conjunction="," >
            #oredCriteria[].criteriaWithListValue[].values[]#
          </iterate>
        </iterate>
        <iterate prepend="and" property="oredCriteria[].criteriaWithBetweenValue" conjunction="and" >
          $oredCriteria[].criteriaWithBetweenValue[].condition$
          #oredCriteria[].criteriaWithBetweenValue[].values[0]# and
          #oredCriteria[].criteriaWithBetweenValue[].values[1]#
        </iterate>
        )
      </isEqual>
    </iterate>
  </sql>
  <select id="abatorgenerated_selectByPrimaryKey" resultMap="abatorgenerated_StorageResult" parameterClass="cn.krt.zbcg.commons.bo.system.StorageBO" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    select id, name, pinhao, times, pnumber, checknumber, supplyname, locationcity, detailchandi,
      guige, jianshu, shuliang, fromdate, demodate, fangxingdate, checkresult, sendDate,
      receivelocation, yuanliaodaodate, daodaozhongliang, beizhu, sendaddress,tuihuoriqi,tuihuoshuliang,pinzhongshuxing,supplyid
    from storage
    where id = #id:INTEGER#
  </select>
  
    <select id="abatorgenerated_daiyanphao" resultMap="abatorgenerated_pinhaoResult">
    select  DISTINCT pnumber FROM storage where checkresult='待验' 
  	</select>
     <select id="abatorgenerated_daiyanshuliangsum" resultClass="java.lang.String">
    select  sum(shuliang) FROM storage where checkresult='待验'
    </select>
    
     <select id="abatorgenerated_buhege" resultMap="abatorgenerated_pinhaoResult">
 		select  DISTINCT pnumber FROM STORAGE where ((tuihuoriqi is NULL and tuihuoshuliang is NULL) or tuihuoshuliang &lt; shuliang )  and checkresult='不合格'
  	</select>
     <select id="abatorgenerated_buhegeshuliangsum" resultClass="java.lang.String">
 		select   sum(shuliang)  FROM STORAGE where ((tuihuoriqi is NULL and tuihuoshuliang is NULL) or tuihuoshuliang  &lt;shuliang )  and checkresult='不合格'
    </select>
  
  
    <select id="selectAll" resultMap="abatorgenerated_StorageResult" parameterClass="java.util.Map" >
     SELECT * FROM ( SELECT c.* from ( 
     select 
     		id, name, pinhao, times, pnumber, checknumber, supplyname, locationcity, detailchandi,
      guige, jianshu, shuliang, fromdate, demodate, fangxingdate, checkresult, sendDate,
      receivelocation, yuanliaodaodate, daodaozhongliang, beizhu, sendaddress,tuihuoriqi,tuihuoshuliang,pinzhongshuxing,supplyid
     from 	storage
     where  1=1 
     		<isNotNull property="checkresult">
				<isNotEmpty  property="checkresult">
				and checkresult =  #checkresult#
				</isNotEmpty>
			</isNotNull>
     ) c) a  order by id desc
     LIMIT  $ibegin$, 10   
  </select>
    <select id="selectAllOfCount" resultClass="java.lang.String" parameterClass="java.util.Map" >
     SELECT count(1) as ID from ( 
     select 
     		id, name, pinhao, times, pnumber, checknumber, supplyname, locationcity, detailchandi,
      guige, jianshu, shuliang, fromdate, demodate, fangxingdate, checkresult, sendDate,
      receivelocation, yuanliaodaodate, daodaozhongliang, beizhu, sendaddress,tuihuoriqi,tuihuoshuliang,pinzhongshuxing,supplyid
    from    storage
    where  1=1
     		<isNotNull property="checkresult">
				<isNotEmpty  property="checkresult">
				and checkresult = #checkresult#
				</isNotEmpty>
			</isNotNull>
     )a
  </select>

    <select id="selectAllOfCounts" resultClass="java.lang.String" parameterClass="java.util.Map" >
          SELECT count(1) as ID from ( 
     select 
     		id, name, pinhao, times, pnumber, checknumber, supplyname, locationcity, detailchandi,
      guige, jianshu, shuliang, fromdate, demodate, fangxingdate, checkresult, sendDate,
      receivelocation, yuanliaodaodate, daodaozhongliang, beizhu, sendaddress,tuihuoriqi,tuihuoshuliang,pinzhongshuxing,supplyid
    from    storage
    where  1=1
     		<isNotNull property="name">
				<isNotEmpty  property="name">
				and name like '%$name$%'
				</isNotEmpty>
			</isNotNull>
     )a
  </select>
  
    <select id="abatorgenerated_selectByCheckresult" resultMap="abatorgenerated_StorageResult" parameterClass="cn.krt.zbcg.commons.bo.system.StorageBO" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    select id, name, pinhao, times, pnumber, checknumber, supplyname, locationcity, detailchandi,
      guige, jianshu, shuliang, fromdate, demodate, fangxingdate, checkresult, sendDate,
      receivelocation, yuanliaodaodate, daodaozhongliang, beizhu, sendaddress,tuihuoriqi,tuihuoshuliang,pinzhongshuxing,supplyid
    from storage
    where checkresult = #checkresult#
  </select>
  <select id="abatorgenerated_selectByExample" resultMap="abatorgenerated_StorageResult" parameterClass="cn.krt.zbcg.commons.bo.system.StorageExample" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    select id, name, pinhao, times, pnumber, checknumber, supplyname, locationcity, detailchandi,
      guige, jianshu, shuliang, fromdate, demodate, fangxingdate, checkresult, sendDate,
      receivelocation, yuanliaodaodate, daodaozhongliang, beizhu, sendaddress,tuihuoriqi,tuihuoshuliang,pinzhongshuxing,supplyid
    from storage
    <isParameterPresent >
      <include refid="storage.abatorgenerated_Example_Where_Clause" />
      <isNotNull property="orderByClause" >
        order by $orderByClause$
      </isNotNull>
    </isParameterPresent>
  </select>
  <delete id="abatorgenerated_deleteByPrimaryKey" parameterClass="cn.krt.zbcg.commons.bo.system.StorageBO" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    delete from storage
    where id = #id:INTEGER#
  </delete>
  <delete id="abatorgenerated_deleteByExample" parameterClass="cn.krt.zbcg.commons.bo.system.StorageExample" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    delete from storage
    <include refid="storage.abatorgenerated_Example_Where_Clause" />
  </delete>
  <insert id="abatorgenerated_insert" parameterClass="cn.krt.zbcg.commons.bo.system.StorageBO" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    insert into storage (id, name, pinhao, times, pnumber, checknumber, supplyname, locationcity,
      detailchandi, guige, jianshu, shuliang, fromdate, demodate, fangxingdate, checkresult,
      sendDate, receivelocation, yuanliaodaodate, daodaozhongliang, beizhu, sendaddress,tuihuoriqi,tuihuoshuliang,pinzhongshuxing,supplyid)
    values (#id:INTEGER#, #name:VARCHAR#, #pinhao:VARCHAR#, #times:INTEGER#, #pnumber:VARCHAR#,
      #checknumber:VARCHAR#, #supplyname:VARCHAR#, #locationcity:VARCHAR#, #detailchandi:VARCHAR#,
      #guige:VARCHAR#, #jianshu:INTEGER#, #shuliang:VARCHAR#, #fromdate:VARCHAR#,
      #demodate:VARCHAR#, #fangxingdate:VARCHAR#, #checkresult:VARCHAR#, #senddate:VARCHAR#,
      #receivelocation:VARCHAR#, #yuanliaodaodate:VARCHAR#, #daodaozhongliang:VARCHAR#,
      #beizhu:VARCHAR#, #sendaddress:VARCHAR#, #tuihuoriqi:VARCHAR#, #tuihuoshuliang:VARCHAR#,#pinzhongshuxing:VARCHAR# ,#supplyid:VARCHAR#)
  </insert>
  <update id="abatorgenerated_updateByPrimaryKey" parameterClass="cn.krt.zbcg.commons.bo.system.StorageBO" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    update storage
    set name = #name:VARCHAR#,
      pinhao = #pinhao:VARCHAR#,
      times = #times:INTEGER#,
      pnumber = #pnumber:VARCHAR#,
      checknumber = #checknumber:VARCHAR#,
      supplyname = #supplyname:VARCHAR#,
      locationcity = #locationcity:VARCHAR#,
      detailchandi = #detailchandi:VARCHAR#,
      guige = #guige:VARCHAR#,
      jianshu = #jianshu:INTEGER#,
      shuliang = #shuliang:VARCHAR#,
      fromdate = #fromdate:VARCHAR#,
      demodate = #demodate:VARCHAR#,
      fangxingdate = #fangxingdate:VARCHAR#,
      checkresult = #checkresult:VARCHAR#,
      sendDate = #senddate:VARCHAR#,
      receivelocation = #receivelocation:VARCHAR#,
      yuanliaodaodate = #yuanliaodaodate:VARCHAR#,
      daodaozhongliang = #daodaozhongliang:VARCHAR#,
      beizhu = #beizhu:VARCHAR#,
      sendaddress = #sendaddress:VARCHAR#,
      tuihuoriqi =  #tuihuoriqi:VARCHAR#,
      tuihuoshuliang = #tuihuoshuliang:VARCHAR#,
      pinzhongshuxing = #pinzhongshuxing:VARCHAR#,
      supplyid = #supplyid:VARCHAR#,
    where id = #id:INTEGER#
  </update>
  <update id="abatorgenerated_updateByPrimaryKeySelective" parameterClass="cn.krt.zbcg.commons.bo.system.StorageBO" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    update storage
    <dynamic prepend="set" >
      <isNotNull prepend="," property="name" >
        name = #name:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="pinhao" >
        pinhao = #pinhao:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="times" >
        times = #times:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="pnumber" >
        pnumber = #pnumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="checknumber" >
        checknumber = #checknumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="supplyname" >
        supplyname = #supplyname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="locationcity" >
        locationcity = #locationcity:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="detailchandi" >
        detailchandi = #detailchandi:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="guige" >
        guige = #guige:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="jianshu" >
        jianshu = #jianshu:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="shuliang" >
        shuliang = #shuliang:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fromdate" >
        fromdate = #fromdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="demodate" >
        demodate = #demodate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="fangxingdate" >
        fangxingdate = #fangxingdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="checkresult" >
        checkresult = #checkresult:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="senddate" >
        sendDate = #senddate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="receivelocation" >
        receivelocation = #receivelocation:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="yuanliaodaodate" >
        yuanliaodaodate = #yuanliaodaodate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="daodaozhongliang" >
        daodaozhongliang = #daodaozhongliang:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="beizhu" >
        beizhu = #beizhu:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="sendaddress" >
        sendaddress = #sendaddress:VARCHAR#
      </isNotNull>
    </dynamic>
    where id = #id:INTEGER#
  </update>
  <select id="abatorgenerated_countByExample" parameterClass="cn.krt.zbcg.commons.bo.system.StorageExample" resultClass="java.lang.Integer" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    select count(*) from storage
    <include refid="storage.abatorgenerated_Example_Where_Clause" />
  </select>
  <update id="abatorgenerated_updateByExampleSelective" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    update storage
    <dynamic prepend="set" >
      <isNotNull prepend="," property="record.id" >
        id = #record.id:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.name" >
        name = #record.name:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.pinhao" >
        pinhao = #record.pinhao:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.times" >
        times = #record.times:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.pnumber" >
        pnumber = #record.pnumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.checknumber" >
        checknumber = #record.checknumber:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.supplyname" >
        supplyname = #record.supplyname:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.locationcity" >
        locationcity = #record.locationcity:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.detailchandi" >
        detailchandi = #record.detailchandi:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.guige" >
        guige = #record.guige:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.jianshu" >
        jianshu = #record.jianshu:INTEGER#
      </isNotNull>
      <isNotNull prepend="," property="record.shuliang" >
        shuliang = #record.shuliang:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.fromdate" >
        fromdate = #record.fromdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.demodate" >
        demodate = #record.demodate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.fangxingdate" >
        fangxingdate = #record.fangxingdate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.checkresult" >
        checkresult = #record.checkresult:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.senddate" >
        sendDate = #record.senddate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.receivelocation" >
        receivelocation = #record.receivelocation:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.yuanliaodaodate" >
        yuanliaodaodate = #record.yuanliaodaodate:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.daodaozhongliang" >
        daodaozhongliang = #record.daodaozhongliang:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.beizhu" >
        beizhu = #record.beizhu:VARCHAR#
      </isNotNull>
      <isNotNull prepend="," property="record.sendaddress" >
        sendaddress = #record.sendaddress:VARCHAR#
      </isNotNull>
    </dynamic>
    <isParameterPresent >
      <include refid="storage.abatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
  <update id="abatorgenerated_updateByExample" >
    <!--
      WARNING - This element is automatically generated by Abator for iBATIS, do not modify.
      This element was generated on Sun Jul 21 12:52:32 CST 2013.
    -->
    update storage
    set id = #record.id:INTEGER#,
      name = #record.name:VARCHAR#,
      pinhao = #record.pinhao:VARCHAR#,
      times = #record.times:INTEGER#,
      pnumber = #record.pnumber:VARCHAR#,
      checknumber = #record.checknumber:VARCHAR#,
      supplyname = #record.supplyname:VARCHAR#,
      locationcity = #record.locationcity:VARCHAR#,
      detailchandi = #record.detailchandi:VARCHAR#,
      guige = #record.guige:VARCHAR#,
      jianshu = #record.jianshu:INTEGER#,
      shuliang = #record.shuliang:VARCHAR#,
      fromdate = #record.fromdate:VARCHAR#,
      demodate = #record.demodate:VARCHAR#,
      fangxingdate = #record.fangxingdate:VARCHAR#,
      checkresult = #record.checkresult:VARCHAR#,
      sendDate = #record.senddate:VARCHAR#,
      receivelocation = #record.receivelocation:VARCHAR#,
      yuanliaodaodate = #record.yuanliaodaodate:VARCHAR#,
      daodaozhongliang = #record.daodaozhongliang:VARCHAR#,
      beizhu = #record.beizhu:VARCHAR#,
      sendaddress = #record.sendaddress:VARCHAR#
    <isParameterPresent >
      <include refid="storage.abatorgenerated_Example_Where_Clause" />
    </isParameterPresent>
  </update>
</sqlMap>